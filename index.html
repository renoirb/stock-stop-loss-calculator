<!DOCTYPE html>
<html>
<head>
    <title>Stock Stop Loss Calculator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 600px;
            margin: 2rem auto;
            padding: 0 1rem;
            line-height: 1.5;
        }
        .form-group {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 0.5rem;
        }
        button {
            background: #0066cc;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #0052a3;
        }
        .results {
            margin-top: 2rem;
            padding: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            display: none;
        }
        .risk-level {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <h1>Stock Stop Loss Calculator</h1>
    
    <form id="stopLossForm">
        <div class="form-group">
            <label for="shares">Number of Shares:</label>
            <input type="number" id="shares" required min="1" step="1">
        </div>
        
        <div class="form-group">
            <label for="avgCost">Average Cost per Share ($):</label>
            <input type="number" id="avgCost" required min="0.01" step="0.01">
        </div>
        
        <div class="form-group">
            <label for="currentPrice">Current Market Price ($):</label>
            <input type="number" id="currentPrice" required min="0.01" step="0.01">
        </div>
        
        <button type="submit">Calculate Stop Losses</button>
    </form>

    <div id="results" class="results">
        <h2>Recommended Stop Loss Levels</h2>
        <div class="risk-level">Conservative (2% Account Risk):</div>
        <div id="conservative"></div>
        
        <div class="risk-level">Moderate (5% Account Risk):</div>
        <div id="moderate"></div>
        
        <div class="risk-level">Aggressive (8% Account Risk):</div>
        <div id="aggressive"></div>
        
        <p><strong>Note:</strong> These calculations are based on common risk management practices. The conservative approach aims to limit losses to 2% of position value, moderate to 5%, and aggressive to 8%. Consider your risk tolerance and market conditions when setting stops.</p>
    </div>

    <script>
        document.getElementById('stopLossForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const shares = Number(document.getElementById('shares').value);
            const avgCost = Number(document.getElementById('avgCost').value);
            const currentPrice = Number(document.getElementById('currentPrice').value);
            
            const positionValue = shares * currentPrice;
            
            // Calculate stop losses for different risk levels
            const stopLevels = {
                conservative: calculateStopLevel(positionValue, 0.02),
                moderate: calculateStopLevel(positionValue, 0.05),
                aggressive: calculateStopLevel(positionValue, 0.08)
            };
            
            // Display results
            document.getElementById('results').style.display = 'block';
            
            document.getElementById('conservative').innerHTML = formatStopLevel(stopLevels.conservative, currentPrice, shares);
            document.getElementById('moderate').innerHTML = formatStopLevel(stopLevels.moderate, currentPrice, shares);
            document.getElementById('aggressive').innerHTML = formatStopLevel(stopLevels.aggressive, currentPrice, shares);
        });
        
        function calculateStopLevel(positionValue, riskPercentage) {
            const maxLoss = positionValue * riskPercentage;
            const currentPrice = Number(document.getElementById('currentPrice').value);
            const shares = Number(document.getElementById('shares').value);
            
            const stopPrice = currentPrice - (maxLoss / shares);
            return stopPrice;
        }
        
        function formatStopLevel(stopPrice, currentPrice, shares) {
            const stopPercentage = ((currentPrice - stopPrice) / currentPrice * 100).toFixed(2);
            const potentialLoss = ((currentPrice - stopPrice) * shares).toFixed(2);
            
            return `
                Stop Price: $${stopPrice.toFixed(2)}<br>
                Distance from Current: ${stopPercentage}%<br>
                Maximum Loss: $${potentialLoss}
            `;
        }
    </script>
</body>
</html>